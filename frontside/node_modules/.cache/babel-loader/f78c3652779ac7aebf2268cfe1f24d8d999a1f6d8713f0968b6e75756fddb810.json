{"ast":null,"code":"import React from'react';import{useSelector,useDispatch}from\"react-redux\";import moment from'moment';import\"../styles/Notification.css\";import{Link}from'react-router-dom';import{readnotify,deleteNotifiesAll}from\"../redux/actions/notifyActions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Notifications=()=>{const{notify,auth}=useSelector(state=>state);const dispatch=useDispatch();const isReadNotify=dt=>{console.log(dt);dispatch(readnotify({dt,auth}));};const handleDeleteAll=()=>{const newArr=notify.data.filter(item=>item.isRead===false);if(newArr.length===0)dispatch(deleteNotifiesAll(auth));if(window.confirm(\"you have \".concat(newArr.length,\" unread notifications . are you sure you want to delete \"))){dispatch(deleteNotifiesAll(auth));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"notifications\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notificationheader\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"notificationheaderheding\",children:\" Notifications\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"notificationheaderheding\",style:{cursor:'pointer'},onClick:handleDeleteAll,children:\" Delete All \"}),/*#__PURE__*/_jsx(\"small\",{className:\"notificationheadericon\",children:\"  bell icon \"})]}),notify.data.length>0&&(notify===null||notify===void 0?void 0:notify.data.map((dt,index)=>{var _dt$user,_dt$user2,_dt$content;return/*#__PURE__*/_jsxs(\"div\",{className:\"notificationdata\",children:[/*#__PURE__*/_jsx(Link,{to:\"\".concat(dt.url),onClick:()=>isReadNotify(dt),children:/*#__PURE__*/_jsxs(\"div\",{className:\"notificationdata-top\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"notificationdata-topavatar\",src:dt===null||dt===void 0?void 0:(_dt$user=dt.user)===null||_dt$user===void 0?void 0:_dt$user.avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notificationdata-topsecond\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"notificationdata-topsecondhead\",children:[\" \",dt===null||dt===void 0?void 0:(_dt$user2=dt.user)===null||_dt$user2===void 0?void 0:_dt$user2.fullname,\" \",dt.text,\" \"]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"notificationdata-topsecondheadtwo\",children:[\" \",dt===null||dt===void 0?void 0:(_dt$content=dt.content)===null||_dt$content===void 0?void 0:_dt$content.slice(0,20),\" \"]})]}),/*#__PURE__*/_jsx(\"img\",{className:\"notificationdata-topimage\",src:dt===null||dt===void 0?void 0:dt.image,alt:\"\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"notificationdatabottom\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"notificationdatabottomdate\",children:moment(dt===null||dt===void 0?void 0:dt.createdAt).fromNow()}),dt.isRead?/*#__PURE__*/_jsx(\"p\",{children:\" o \"}):/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontSize:'20px'},children:\" o \"})]})]},index);}))]});};export default Notifications;","map":{"version":3,"names":["React","useSelector","useDispatch","moment","Link","readnotify","deleteNotifiesAll","jsx","_jsx","jsxs","_jsxs","Notifications","notify","auth","state","dispatch","isReadNotify","dt","console","log","handleDeleteAll","newArr","data","filter","item","isRead","length","window","confirm","concat","className","children","style","cursor","onClick","map","index","_dt$user","_dt$user2","_dt$content","to","url","src","user","avatar","alt","fullname","text","content","slice","image","createdAt","fromNow","color","fontSize"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/pages/Notifications.js"],"sourcesContent":["import React from 'react'\nimport {useSelector, useDispatch} from \"react-redux\"\nimport moment from 'moment'\nimport \"../styles/Notification.css\"\nimport {Link} from 'react-router-dom'\nimport {readnotify, deleteNotifiesAll} from \"../redux/actions/notifyActions\"\n\nconst Notifications = ( ) =>{\n    const {notify, auth} = useSelector(state => state)\n    const dispatch = useDispatch();\n  \n    const isReadNotify = (dt) =>{\n        console.log(dt)\n        dispatch(readnotify({dt, auth}))\n        \n    }\n\n    const handleDeleteAll = () =>{\n        const newArr = notify.data.filter(item => item.isRead === false)\n        if(newArr.length === 0 ) dispatch(deleteNotifiesAll(auth))\n\n        if(window.confirm(`you have ${newArr.length} unread notifications . are you sure you want to delete `))\n        {\n            dispatch(deleteNotifiesAll(auth))\n        }\n    }\n    return(\n        <div className=\"notifications\">\n            <div className=\"notificationheader\">\n                <h5 className=\"notificationheaderheding\"> Notifications</h5>\n                <h5 className=\"notificationheaderheding\" style={{cursor:'pointer'}} onClick={handleDeleteAll}> Delete All </h5>\n                <small className=\"notificationheadericon\">  bell icon </small>\n            </div>\n            {\n                notify.data.length > 0  && notify?.data.map((dt,index)=> (\n                   \n                    <div className=\"notificationdata\" key={index}>\n                        <Link to={`${dt.url}`} onClick={()=>isReadNotify(dt)}>\n                      <div className=\"notificationdata-top\">  \n                        <img className=\"notificationdata-topavatar\" src={dt?.user?.avatar} alt=\"\"/>\n                        <div className=\"notificationdata-topsecond\">\n                         <h4 className=\"notificationdata-topsecondhead\"> {dt?.user?.fullname} {dt.text} </h4>\n                         <h6 className=\"notificationdata-topsecondheadtwo\"> {dt?.content?.slice(0,20)} </h6>\n                        </div>\n                        <img  className=\"notificationdata-topimage\" src={dt?.image} alt=\"\"/>\n                        \n                     </div>\n                     </Link>\n                     <div className=\"notificationdatabottom\">\n                    <small  className=\"notificationdatabottomdate\">{moment(dt?.createdAt).fromNow()}</small>\n                    {\n                        dt.isRead ? <p> o </p> : <p style={{color:'red', fontSize:'20px'}}> o </p>\n                    }\n                    </div>\n                     </div>\n                    \n\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Notifications;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}