{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{updateProfile}from'../redux/actions/profileActions';import\"../styles/EditProfile.css\";import{checkimage}from\"../utils/imageupload\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditProfile=_ref=>{let{user,SetOnEdit}=_ref;const{auth}=useSelector(state=>state);const dispatch=useDispatch();const initState={website:'',fullname:'',story:'',phone:'',address:''};const[editData,setEditData]=useState(initState);const{website,fullname,story,phone,address}=editData;const[avatar,setAvatar]=useState('');///why you need here is i will be come back note to me.\nconst changeavatar=e=>{const file=e.target.files[0];const err=checkimage(file);if(err)return dispatch({type:\"ALERT\",payload:{error:err}});setAvatar(file);};useEffect(()=>{setEditData(user);},[user]);const handleChangeInput=e=>{const{name,value}=e.target;setEditData({...editData,[name]:value});};const selectupload=()=>{const fileuploadinput=document.getElementById(\"file-upload\");fileuploadinput.click();};const handleSubmit=e=>{e.preventDefault();dispatch(updateProfile({editData,avatar,auth}));SetOnEdit(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"editprofile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"editprofile-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editprofile-head\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"editprofile-headtitle\",children:\"Edit Your Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"editprofile-headclose\",onClick:()=>SetOnEdit(false),children:\"X\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editprofile-avatar\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar?URL.createObjectURL(avatar):auth.user.avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\",onClick:selectupload,children:/*#__PURE__*/_jsx(\"p\",{className:\"editprofile-userdatapara\",children:\"Change Pic\"})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"input\",{style:{display:'none'},type:\"file\",id:\"file-upload\",accept:\"image/*\",onChange:changeavatar})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editprofile-userdata\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fullname\",children:\"FullName\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"editprofile-userdatafullname\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:fullname,onChange:handleChangeInput,name:\"fullname\",placeholder:\"Type your name\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"editprofile-userdatapara\",children:[fullname.length,\"/25\"]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"editprofile-userdataaddress\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:address,onChange:handleChangeInput,name:\"address\",placeholder:\"Type your address\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"website\",children:\"Website\"}),/*#__PURE__*/_jsx(\"div\",{className:\"editprofile-userdatawebsite\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:website,onChange:handleChangeInput,name:\"website\",placeholder:\"Type your website name\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"editprofile-userdataphone\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phone,onChange:handleChangeInput,name:\"phone\",placeholder:\"Type your phone number\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"story\",children:\"Story\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"editprofile-userdatastory\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:story,onChange:handleChangeInput,name:\"story\",placeholder:\"Type your Bio \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"editprofile-userdatapara\",children:[story.length,\"/200\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"editprofile-userdatabutton\",children:\"Submit\"})]})]})});};export default EditProfile;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","updateProfile","checkimage","jsx","_jsx","jsxs","_jsxs","EditProfile","_ref","user","SetOnEdit","auth","state","dispatch","initState","website","fullname","story","phone","address","editData","setEditData","avatar","setAvatar","changeavatar","e","file","target","files","err","type","payload","error","handleChangeInput","name","value","selectupload","fileuploadinput","document","getElementById","click","handleSubmit","preventDefault","className","children","onClick","src","URL","createObjectURL","alt","style","display","id","accept","onChange","htmlFor","placeholder","length"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/components/EditProfile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { updateProfile } from '../redux/actions/profileActions';\nimport \"../styles/EditProfile.css\";\nimport {checkimage} from \"../utils/imageupload\"\n\n\n\nconst EditProfile = ({user, SetOnEdit}) => {\n\n    const {auth} = useSelector(state => state);\n    const dispatch= useDispatch();\n\n\nconst initState = {website:'', fullname:'', story:'', phone:'', address:''}\n    const [editData, setEditData] = useState(initState);\n    const  {website, fullname, story, phone, address } = editData;\n    const [avatar, setAvatar] = useState('')\n    ///why you need here is i will be come back note to me.\n\n   \n    const changeavatar = (e) => {\n      const file = e.target.files[0];\n      const err = checkimage(file)\n      if(err) return dispatch({type:\"ALERT\", payload:{error : err}})\n      setAvatar(file)\n    }\n   useEffect(()=>{\n       setEditData(user)\n   },[user])\n\n    const handleChangeInput = (e) =>{\n        const {name, value} = e.target;\n        setEditData({...editData,  [name]:value})\n    }\nconst selectupload= () =>{\n    const fileuploadinput = document.getElementById(\"file-upload\")\n    fileuploadinput.click();\n}\nconst handleSubmit = (e) =>{\n    e.preventDefault();\n    dispatch(updateProfile({editData,avatar,auth}))\n    SetOnEdit(false)\n}\n    return (\n        <div className=\"editprofile\" > \n        <div className=\"editprofile-content\">\n            <div className=\"editprofile-head\">\n                <h4 className=\"editprofile-headtitle\">\n                    Edit Your Profile\n                </h4>\n                <button className=\"editprofile-headclose\" onClick={()=>SetOnEdit(false)}>\n                    X\n                </button>\n            </div>\n            <div className=\"editprofile-avatar\">\n                <img src= {avatar? URL.createObjectURL(avatar) : auth.user.avatar} alt=\"\"/>\n                <i className=\"fas fa-camera\" onClick={selectupload}><p className=\"editprofile-userdatapara\">Change Pic</p></i>\n                <span>\n                    <input style={{display:'none'}}type=\"file\" id=\"file-upload\" accept=\"image/*\" onChange={changeavatar}/>\n                </span>\n            </div>\n            <div className=\"editprofile-userdata\">\n                        <label htmlFor=\"fullname\">FullName</label>\n                        <div className=\"editprofile-userdatafullname\">\n                        <input type=\"text\" value={fullname} onChange={handleChangeInput}\n                        name=\"fullname\" placeholder=\"Type your name\"/>\n                        <p className=\"editprofile-userdatapara\">{fullname.length}/25</p>\n                        </div>\n                        <label htmlFor=\"address\">Address</label>\n                        <div className=\"editprofile-userdataaddress\">\n                        <input type=\"text\" value={address} onChange={handleChangeInput}\n                        name=\"address\" placeholder=\"Type your address\"/>\n                        \n                        </div>\n                        <label htmlFor=\"website\">Website</label>\n                        <div className=\"editprofile-userdatawebsite\">\n                        <input type=\"text\" value={website} onChange={handleChangeInput}\n                        name=\"website\" placeholder=\"Type your website name\"/>\n                      \n                        </div>\n                        <label htmlFor=\"phone\">Phone</label>\n                        <div className=\"editprofile-userdataphone\">\n                        <input type=\"text\" value={phone} onChange={handleChangeInput}\n                        name=\"phone\" placeholder=\"Type your phone number\"/>\n                        \n                        </div>\n                        <label htmlFor=\"story\">Story</label>\n                        <div className=\"editprofile-userdatastory\">\n                        <input type=\"text\" value={story} onChange={handleChangeInput}\n                        name=\"story\" placeholder=\"Type your Bio \"/>\n                        <p className=\"editprofile-userdatapara\">{story.length}/200</p>\n                        </div>\n                        <button onClick={handleSubmit} className=\"editprofile-userdatabutton\">Submit</button>\n            </div>\n            </div>\n        </div>\n    )\n}\n\nexport default EditProfile"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAASC,aAAa,KAAQ,iCAAiC,CAC/D,MAAO,2BAA2B,CAClC,OAAQC,UAAU,KAAO,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAI/C,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAuB,IAAtB,CAACC,IAAI,CAAEC,SAAS,CAAC,CAAAF,IAAA,CAElC,KAAM,CAACG,IAAI,CAAC,CAAGZ,WAAW,CAACa,KAAK,EAAIA,KAAK,CAAC,CAC1C,KAAM,CAAAC,QAAQ,CAAEb,WAAW,CAAC,CAAC,CAGjC,KAAM,CAAAc,SAAS,CAAG,CAACC,OAAO,CAAC,EAAE,CAAEC,QAAQ,CAAC,EAAE,CAAEC,KAAK,CAAC,EAAE,CAAEC,KAAK,CAAC,EAAE,CAAEC,OAAO,CAAC,EAAE,CAAC,CACvE,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAACgB,SAAS,CAAC,CACnD,KAAO,CAACC,OAAO,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAQ,CAAC,CAAGC,QAAQ,CAC7D,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CACxC;AAGA,KAAM,CAAA0B,YAAY,CAAIC,CAAC,EAAK,CAC1B,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9B,KAAM,CAAAC,GAAG,CAAG3B,UAAU,CAACwB,IAAI,CAAC,CAC5B,GAAGG,GAAG,CAAE,MAAO,CAAAhB,QAAQ,CAAC,CAACiB,IAAI,CAAC,OAAO,CAAEC,OAAO,CAAC,CAACC,KAAK,CAAGH,GAAG,CAAC,CAAC,CAAC,CAC9DN,SAAS,CAACG,IAAI,CAAC,CACjB,CAAC,CACF7B,SAAS,CAAC,IAAI,CACVwB,WAAW,CAACZ,IAAI,CAAC,CACrB,CAAC,CAAC,CAACA,IAAI,CAAC,CAAC,CAER,KAAM,CAAAwB,iBAAiB,CAAIR,CAAC,EAAI,CAC5B,KAAM,CAACS,IAAI,CAAEC,KAAK,CAAC,CAAGV,CAAC,CAACE,MAAM,CAC9BN,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAG,CAACc,IAAI,EAAEC,KAAK,CAAC,CAAC,CAC7C,CAAC,CACL,KAAM,CAAAC,YAAY,CAAEA,CAAA,GAAK,CACrB,KAAM,CAAAC,eAAe,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAC9DF,eAAe,CAACG,KAAK,CAAC,CAAC,CAC3B,CAAC,CACD,KAAM,CAAAC,YAAY,CAAIhB,CAAC,EAAI,CACvBA,CAAC,CAACiB,cAAc,CAAC,CAAC,CAClB7B,QAAQ,CAACZ,aAAa,CAAC,CAACmB,QAAQ,CAACE,MAAM,CAACX,IAAI,CAAC,CAAC,CAAC,CAC/CD,SAAS,CAAC,KAAK,CAAC,CACpB,CAAC,CACG,mBACIN,IAAA,QAAKuC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC5BtC,KAAA,QAAKqC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChCtC,KAAA,QAAKqC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BxC,IAAA,OAAIuC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,mBAEtC,CAAI,CAAC,cACLxC,IAAA,WAAQuC,SAAS,CAAC,uBAAuB,CAACE,OAAO,CAAEA,CAAA,GAAInC,SAAS,CAAC,KAAK,CAAE,CAAAkC,QAAA,CAAC,GAEzE,CAAQ,CAAC,EACR,CAAC,cACNtC,KAAA,QAAKqC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/BxC,IAAA,QAAK0C,GAAG,CAAGxB,MAAM,CAAEyB,GAAG,CAACC,eAAe,CAAC1B,MAAM,CAAC,CAAGX,IAAI,CAACF,IAAI,CAACa,MAAO,CAAC2B,GAAG,CAAC,EAAE,CAAC,CAAC,cAC3E7C,IAAA,MAAGuC,SAAS,CAAC,eAAe,CAACE,OAAO,CAAET,YAAa,CAAAQ,QAAA,cAACxC,IAAA,MAAGuC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CAAG,CAAC,cAC9GxC,IAAA,SAAAwC,QAAA,cACIxC,IAAA,UAAO8C,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAE,CAAArB,IAAI,CAAC,MAAM,CAACsB,EAAE,CAAC,aAAa,CAACC,MAAM,CAAC,SAAS,CAACC,QAAQ,CAAE9B,YAAa,CAAC,CAAC,CACpG,CAAC,EACN,CAAC,cACNlB,KAAA,QAAKqC,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACzBxC,IAAA,UAAOmD,OAAO,CAAC,UAAU,CAAAX,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1CtC,KAAA,QAAKqC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC7CxC,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACK,KAAK,CAAEnB,QAAS,CAACsC,QAAQ,CAAErB,iBAAkB,CAChEC,IAAI,CAAC,UAAU,CAACsB,WAAW,CAAC,gBAAgB,CAAC,CAAC,cAC9ClD,KAAA,MAAGqC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,EAAE5B,QAAQ,CAACyC,MAAM,CAAC,KAAG,EAAG,CAAC,EAC3D,CAAC,cACNrD,IAAA,UAAOmD,OAAO,CAAC,SAAS,CAAAX,QAAA,CAAC,SAAO,CAAO,CAAC,cACxCxC,IAAA,QAAKuC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC5CxC,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACK,KAAK,CAAEhB,OAAQ,CAACmC,QAAQ,CAAErB,iBAAkB,CAC/DC,IAAI,CAAC,SAAS,CAACsB,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAE3C,CAAC,cACNpD,IAAA,UAAOmD,OAAO,CAAC,SAAS,CAAAX,QAAA,CAAC,SAAO,CAAO,CAAC,cACxCxC,IAAA,QAAKuC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC5CxC,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACK,KAAK,CAAEpB,OAAQ,CAACuC,QAAQ,CAAErB,iBAAkB,CAC/DC,IAAI,CAAC,SAAS,CAACsB,WAAW,CAAC,wBAAwB,CAAC,CAAC,CAEhD,CAAC,cACNpD,IAAA,UAAOmD,OAAO,CAAC,OAAO,CAAAX,QAAA,CAAC,OAAK,CAAO,CAAC,cACpCxC,IAAA,QAAKuC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cAC1CxC,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACK,KAAK,CAAEjB,KAAM,CAACoC,QAAQ,CAAErB,iBAAkB,CAC7DC,IAAI,CAAC,OAAO,CAACsB,WAAW,CAAC,wBAAwB,CAAC,CAAC,CAE9C,CAAC,cACNpD,IAAA,UAAOmD,OAAO,CAAC,OAAO,CAAAX,QAAA,CAAC,OAAK,CAAO,CAAC,cACpCtC,KAAA,QAAKqC,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAC1CxC,IAAA,UAAO0B,IAAI,CAAC,MAAM,CAACK,KAAK,CAAElB,KAAM,CAACqC,QAAQ,CAAErB,iBAAkB,CAC7DC,IAAI,CAAC,OAAO,CAACsB,WAAW,CAAC,gBAAgB,CAAC,CAAC,cAC3ClD,KAAA,MAAGqC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,EAAE3B,KAAK,CAACwC,MAAM,CAAC,MAAI,EAAG,CAAC,EACzD,CAAC,cACNrD,IAAA,WAAQyC,OAAO,CAAEJ,YAAa,CAACE,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC5F,CAAC,EACD,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAArC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}