{"ast":null,"code":"import React,{useState}from'react';import\"../styles/Header.css\";import IconButton from\"@material-ui/core/IconButton\";import HomeIcon from\"@material-ui/icons/Home\";import MessageIcon from'@material-ui/icons/Message';import NotificationsIcon from'@material-ui/icons/Notifications';import SearchIcon from'@material-ui/icons/Search';import ExploreIcon from'@material-ui/icons/Explore';import ExitToAppIcon from'@material-ui/icons/ExitToApp';import{Avatar}from'@material-ui/core';import{useDispatch,useSelector}from'react-redux';import{logout}from\"../redux/actions/authActions\";import{Link,useLocation}from'react-router-dom';import{getDataApi}from\"../utils/fetchDataApi\";import UserCard from'./UserCard';import LoadIcon from\"../images/loading.gif\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Header=()=>{const[search,setSearch]=useState('');const[users,setUsers]=useState([]);const[load,setLoad]=useState(false);const dispatch=useDispatch();const{auth,notify}=useSelector(state=>state);const{pathname}=useLocation();// useEffect(()=>{\n//    if(search && auth.token){\n//       getDataApi(`search?username=${search}`,auth.token)\n//       .then(res=>setUsers(res.data.users))\n//       .catch(err=>{\n//          dispatch({\n//             type:'ALERT',\n//             payload:{\n//                error: err.response.data.msg\n//             }\n//          })\n//       })\n//    }else {\n//       setUsers([])\n//    }\n// },[search,auth.token,dispatch])\n// const isActive = (pn) => {\n//    console.log(pn)\n//     if(pn === pathname) return true;\n// }  \nconst handleClose=()=>{setSearch('');setUsers([]);};const handleSearch=async e=>{e.preventDefault();if(!search)return;try{setLoad(true);const res=await getDataApi(\"search?username=\".concat(search),auth.token);setUsers(res.data.users);setLoad(false);}catch(err){dispatch({type:'ALERT',payload:{error:err.response.data.msg}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-right\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Social Network\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"header-center\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search Profiles\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsx(SearchIcon,{style:{opacity:users.length>0?'0':'1'}}),/*#__PURE__*/_jsx(\"span\",{className:\"header-centersearchclose\",onClick:handleClose,style:{opacity:users.length>0?'1':'0'},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{display:'none'},children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-searchusers\",children:[load&&/*#__PURE__*/_jsx(\"img\",{src:LoadIcon,alt:\"\",style:{width:'48px',height:\"48px\"}}),search&&users.length>0&&users.map(user=>/*#__PURE__*/_jsx(UserCard,{user:user,handleClose:handleClose}))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-left \",children:[/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(auth.user._id),children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"header-leftAvatar\",children:[/*#__PURE__*/_jsx(Avatar,{src:auth.user.avatar}),/*#__PURE__*/_jsx(\"h4\",{style:{color:'white'},children:auth.user.fullname})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(HomeIcon,{})})}),/*#__PURE__*/_jsx(Link,{to:\"/message\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(MessageIcon,{})})}),/*#__PURE__*/_jsxs(Link,{to:\"/notification\",children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(NotificationsIcon,{})}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',transform:'translate(-26px,16px)',color:'white',fontSize:'10px'},children:notify&&notify.data.length})]}),/*#__PURE__*/_jsx(Link,{to:\"/explore\",children:/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ExploreIcon,{})})}),/*#__PURE__*/_jsx(IconButton,{onClick:()=>dispatch(logout()),children:/*#__PURE__*/_jsx(ExitToAppIcon,{})})]})]});};export default Header;","map":{"version":3,"names":["React","useState","IconButton","HomeIcon","MessageIcon","NotificationsIcon","SearchIcon","ExploreIcon","ExitToAppIcon","Avatar","useDispatch","useSelector","logout","Link","useLocation","getDataApi","UserCard","LoadIcon","jsx","_jsx","jsxs","_jsxs","Header","search","setSearch","users","setUsers","load","setLoad","dispatch","auth","notify","state","pathname","handleClose","handleSearch","e","preventDefault","res","concat","token","data","err","type","payload","error","response","msg","className","children","onSubmit","placeholder","value","onChange","target","style","opacity","length","onClick","display","src","alt","width","height","map","user","to","_id","avatar","color","fullname","position","transform","fontSize"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/components/Header.js"],"sourcesContent":["import React, { useState } from 'react'\nimport \"../styles/Header.css\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport HomeIcon from \"@material-ui/icons/Home\";\n\nimport MessageIcon from '@material-ui/icons/Message';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { Avatar } from '@material-ui/core';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {logout} from \"../redux/actions/authActions\";\nimport {Link, useLocation} from 'react-router-dom';\nimport {getDataApi} from \"../utils/fetchDataApi\"\nimport UserCard from './UserCard';\nimport LoadIcon from \"../images/loading.gif\"\n\n\n\nexport const Header = () =>{\n   const [search, setSearch] = useState('')\n   const [users,setUsers]=useState([])\n   const [load,setLoad] = useState(false)\n   \n   const dispatch = useDispatch();\n   const {auth,notify} = useSelector(state=>state);\n   const{pathname} = useLocation();\n\n   // useEffect(()=>{\n   //    if(search && auth.token){\n   //       getDataApi(`search?username=${search}`,auth.token)\n   //       .then(res=>setUsers(res.data.users))\n   //       .catch(err=>{\n   //          dispatch({\n   //             type:'ALERT',\n   //             payload:{\n   //                error: err.response.data.msg\n   //             }\n   //          })\n   //       })\n   //    }else {\n   //       setUsers([])\n   //    }\n   // },[search,auth.token,dispatch])\n\n    \n  \n\n\n\n   // const isActive = (pn) => {\n   //    console.log(pn)\n   //     if(pn === pathname) return true;\n   // }  \n\n   const handleClose = () => {\n      setSearch('');\n      setUsers([]);\n   } \n\n   const handleSearch = async (e) =>{\n      e.preventDefault();\n      if(!search) return;\n\n      try {\n         setLoad(true)\n         const res = await getDataApi(`search?username=${search}`,auth.token);\n         setUsers(res.data.users)\n         setLoad(false)\n      } catch (err) {\n         dispatch({\n            type:'ALERT',\n            payload:{\n               error: err.response.data.msg\n            }\n         })\n      }\n      \n   }\n    return (\n     <div className=\"header\">\n         <div className=\"header-right\">\n            <h3>Social Network</h3>\n         </div>\n         <form className=\"header-center\" onSubmit={handleSearch}>\n            <input type=\"text\" placeholder=\"Search Profiles\" value={search} onChange={(e)=>setSearch(e.target.value)}/>\n            <SearchIcon style={{opacity: users.length > 0 ? '0' : '1'}} />\n            <span className=\"header-centersearchclose\" onClick={handleClose} style={{opacity: users.length > 0 ? '1' : '0'}}>&times;</span>\n            <button type=\"submit\" style={{display:'none'}}>Search</button>\n        <div className=\"header-searchusers\">\n         {load && <img src={LoadIcon} alt=\"\" style={{width:'48px', height:\"48px\"}}/>}\n         {\n            search && users.length > 0 && users.map(user=>(\n              \n                  <UserCard user={user} handleClose={handleClose}/>\n               \n            ))\n         }\n         </div>\n         </form>\n         <div className=\"header-left \"> \n         <Link to ={`/profile/${auth.user._id}`}> <div className=\"header-leftAvatar\">\n                 <Avatar src={auth.user.avatar}/>\n                 <h4 style={{color:'white'}}>{auth.user.fullname}</h4>\n             </div>\n             </Link>\n     \n             <Link to=\"/\"  >\n                \n             <IconButton >\n                <HomeIcon />\n             </IconButton>\n             </Link>\n          \n             <Link to=\"/message\">\n             <IconButton  >\n             <MessageIcon />\n            </IconButton>\n             </Link>\n             <Link to=\"/notification\">\n             <IconButton>\n                <NotificationsIcon />\n             </IconButton>\n             <span style={{position:'absolute', transform:'translate(-26px,16px)',color:'white', fontSize:'10px'}}>{notify && notify.data.length}</span>\n             </Link>\n             <Link to=\"/explore\">\n             <IconButton>\n                <ExploreIcon />\n             </IconButton>\n             </Link>\n             <IconButton onClick={()=>dispatch(logout())}>\n                <ExitToAppIcon/>\n             </IconButton>\n             \n         </div>\n\n     </div>\n\n    )\n}\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}