{"ast":null,"code":"import React,{useState}from'react';import{Link,useHistory}from\"react-router-dom\";import\"../styles/PostCard.css\";import moment from'moment';import{useDispatch,useSelector}from\"react-redux\";import{ALERT_TYPES}from\"../redux/actions/alertActions\";import{deletePost}from'../redux/actions/postActions';import{BASE_URL}from\"../utils/config\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PostCardHeader=_ref=>{var _pos$user,_pos$user2,_pos$images,_pos$images2;let{pos}=_ref;const{auth,socket}=useSelector(state=>state);const[showdrop,setshowdrop]=useState(false);const dispatch=useDispatch();const history=useHistory();const handleEdit=ed=>{dispatch({type:ALERT_TYPES.STATUS,payload:{...pos,edit:true}});setshowdrop(false);};const handleDeletePost=()=>{dispatch(deletePost({pos,auth,socket}));setshowdrop(false);history.push('/');};const handleCopyPostLink=()=>{navigator.clipboard.writeText(\"\".concat(BASE_URL,\"/post/\").concat(pos._id));setshowdrop(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"postcardheader\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile/\".concat(pos.user._id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"postcardheadertop\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"postcardheadertopavatar\",src:(_pos$user=pos.user)===null||_pos$user===void 0?void 0:_pos$user.avatar,alt:pos.user.fullname}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcardheaderinfo\",children:[/*#__PURE__*/_jsxs(\"h6\",{children:[(_pos$user2=pos.user)===null||_pos$user2===void 0?void 0:_pos$user2.fullname,\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'gray',fontSize:'14px',fontWeight:'600'},children:\" posted \"}),(_pos$images=pos.images)===null||_pos$images===void 0?void 0:_pos$images.length,\" \",((_pos$images2=pos.images)===null||_pos$images2===void 0?void 0:_pos$images2.length)>1?\" images\":\"image\",\" \"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",moment(pos.createdAt).fromNow()]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcardheaderdown\",children:[/*#__PURE__*/_jsx(\"p\",{onClick:()=>setshowdrop(!showdrop),children:\"ooo\"}),showdrop&&/*#__PURE__*/_jsx(\"div\",{className:\"postcarddropdown\",children:(auth===null||auth===void 0?void 0:auth.user._id)===pos.user._id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h6\",{onClick:()=>handleEdit(pos),children:\"Update Post\"}),/*#__PURE__*/_jsx(\"h6\",{onClick:handleDeletePost,children:\"Delete Post\"}),/*#__PURE__*/_jsx(\"h6\",{onClick:handleCopyPostLink,children:\"Copy Link\"})]}):/*#__PURE__*/_jsx(\"h6\",{children:\"Copy Link\"})})]})]});};export default PostCardHeader;","map":{"version":3,"names":["React","useState","Link","useHistory","moment","useDispatch","useSelector","ALERT_TYPES","deletePost","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PostCardHeader","_ref","_pos$user","_pos$user2","_pos$images","_pos$images2","pos","auth","socket","state","showdrop","setshowdrop","dispatch","history","handleEdit","ed","type","STATUS","payload","edit","handleDeletePost","push","handleCopyPostLink","navigator","clipboard","writeText","concat","_id","className","children","to","user","src","avatar","alt","fullname","style","color","fontSize","fontWeight","images","length","createdAt","fromNow","onClick"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/components/PostCardHeader.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {Link , useHistory} from \"react-router-dom\"\nimport \"../styles/PostCard.css\"\nimport moment from 'moment'\nimport {useDispatch, useSelector} from\"react-redux\"\nimport {ALERT_TYPES} from \"../redux/actions/alertActions\"\nimport { deletePost } from '../redux/actions/postActions';\nimport {BASE_URL} from \"../utils/config\"\n\nconst PostCardHeader = ({pos}) =>{\n    const {auth, socket} = useSelector(state => state)\n    const [showdrop,setshowdrop] = useState(false)\n    const dispatch = useDispatch()\n    const history = useHistory();\n\n    const handleEdit = (ed) =>{\n        \n        dispatch({type: ALERT_TYPES.STATUS , payload:{...pos, edit:true}})\n        setshowdrop(false)\n    }\n    \n    const handleDeletePost = () =>{\n        dispatch(deletePost({pos, auth,socket}))\n        setshowdrop(false)\n        history.push('/')\n\n    }\n\n    const handleCopyPostLink = () =>{\n        navigator.clipboard.writeText(`${BASE_URL}/post/${pos._id}`)\n        setshowdrop(false)\n    }\n    return (\n        <div className=\"postcardheader\">\n            <Link to={`/profile/${pos.user._id}`}>\n            <div className=\"postcardheadertop\">\n                <img className=\"postcardheadertopavatar\"src={pos.user?.avatar} alt={pos.user.fullname}/>\n            \n            <div className=\"postcardheaderinfo\">\n                <h6>{pos.user?.fullname} <span style={{color:'gray', fontSize:'14px',fontWeight:'600'}}> posted </span>{pos.images?.length} {pos.images?.length > 1 ? \" images\" : \"image\"} </h6>\n                <h4> {moment(pos.createdAt).fromNow()}</h4>\n            </div>\n            </div>\n            </Link>\n            <div className=\"postcardheaderdown\">\n                <p onClick={()=>setshowdrop(!showdrop)}>ooo</p>\n                \n            {\n                    showdrop &&\n            <div className=\"postcarddropdown\">\n                    {auth?.user._id === pos.user._id ? \n                    <>\n                    <h6 onClick={()=>handleEdit(pos)}>Update Post</h6>\n                    <h6 onClick={handleDeletePost}>Delete Post</h6>\n                    <h6 onClick={handleCopyPostLink}>Copy Link</h6>\n                    </>\n                    :\n                    <h6>Copy Link</h6>\n                    }\n\n                </div>\n}\n            </div>\n        </div>\n    )\n}\n\nexport default PostCardHeader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}