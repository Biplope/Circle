{"ast":null,"code":"import\"./App.css\";import\"./index.css\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import Register from\"./pages/Register\";import Login from\"./pages/Login\";import Post from\"./pages/Post\";import NotFound from\"./pages/NotFound\";import Alert from\"./components/Alert\";import Header from\"./components/Header\";import{useSelector,useDispatch}from'react-redux';import Home from\"./pages/Home\";import{useEffect}from\"react\";import{refreshToken}from'./redux/actions/authActions';import Messages from\"./pages/Messages\";import Explore from\"./pages/Explore\";import Notifications from\"./pages/Notifications\";import PrivateRouter from\"./utils/PrivateRouter\";import Profile from\"./pages/Profile\";import{getPost}from\"./redux/actions/postActions\";import io from\"socket.io-client\";import{ALERT_TYPES}from\"./redux/actions/alertActions\";import{getNotify}from\"./redux/actions/notifyActions\";import SocketioClient from\"./SocketioClient\";import Conversation from\"./components/Conversation\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{auth}=useSelector(state=>state);const dispatch=useDispatch();const login=localStorage.getItem('login');useEffect(()=>{dispatch(refreshToken());const socket=io();dispatch({type:ALERT_TYPES.SOCKET,payload:socket});return()=>socket.close();},[dispatch]);useEffect(()=>{if(auth.token){dispatch(getPost(auth.token));dispatch(getNotify(auth));}},[auth.token,auth,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Alert,{}),auth.token&&/*#__PURE__*/_jsx(Header,{}),auth.token&&/*#__PURE__*/_jsx(SocketioClient,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",children:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:auth.token?/*#__PURE__*/_jsx(Home,{}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",children:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(PrivateRouter,{exact:true,path:\"/message\",children:/*#__PURE__*/_jsx(Messages,{})}),/*#__PURE__*/_jsx(PrivateRouter,{exact:true,path:\"/explore\",children:/*#__PURE__*/_jsx(Explore,{})}),/*#__PURE__*/_jsx(PrivateRouter,{exact:true,path:\"/notification\",children:/*#__PURE__*/_jsx(Notifications,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/post/:id\",children:login?/*#__PURE__*/_jsx(Post,{}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/message/:id\",children:login?/*#__PURE__*/_jsx(Conversation,{}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile/:id\",children:login?/*#__PURE__*/_jsx(Profile,{}):/*#__PURE__*/_jsx(Redirect,{to:\"/\"})}),/*#__PURE__*/_jsxs(Route,{children:[\" \",/*#__PURE__*/_jsx(NotFound,{}),\" \"]})]})]})});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Switch","Route","Redirect","Register","Login","Post","NotFound","Alert","Header","useSelector","useDispatch","Home","useEffect","refreshToken","Messages","Explore","Notifications","PrivateRouter","Profile","getPost","io","ALERT_TYPES","getNotify","SocketioClient","Conversation","jsx","_jsx","jsxs","_jsxs","App","auth","state","dispatch","login","localStorage","getItem","socket","type","SOCKET","payload","close","token","className","children","exact","path","to"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/App.js"],"sourcesContent":["import \"./App.css\";\n\nimport \"./index.css\";\nimport {BrowserRouter as Router, Switch, Route, Redirect} from \"react-router-dom\";\nimport Register from \"./pages/Register\";\nimport Login from \"./pages/Login\";\nimport Post from \"./pages/Post\";\nimport NotFound from \"./pages/NotFound\";\nimport Alert from \"./components/Alert\";\nimport Header from \"./components/Header\";\nimport {useSelector, useDispatch} from 'react-redux';\nimport Home from \"./pages/Home\";\nimport { useEffect } from \"react\";\nimport {refreshToken} from './redux/actions/authActions'\nimport Messages from \"./pages/Messages\";\nimport Explore from \"./pages/Explore\";\nimport Notifications from \"./pages/Notifications\";\nimport PrivateRouter from \"./utils/PrivateRouter\";\nimport Profile from \"./pages/Profile\";\nimport { getPost } from \"./redux/actions/postActions\";\nimport io from \"socket.io-client\"\nimport { ALERT_TYPES } from \"./redux/actions/alertActions\";\nimport {getNotify} from \"./redux/actions/notifyActions\"\nimport SocketioClient from \"./SocketioClient\";\nimport Conversation from \"./components/Conversation\";\n\nfunction App() {\n  const {auth} = useSelector(state =>state);\n  const dispatch = useDispatch();\n  const login = localStorage.getItem('login');\n\n  useEffect(()=>{\n    dispatch(refreshToken())\n   \n    const socket = io();\n    dispatch({type:ALERT_TYPES.SOCKET, payload:socket})\n    return ()=>socket.close();\n  },[dispatch])\n\nuseEffect(()=>{\n  if(auth.token){\n  dispatch(getPost(auth.token))\n  dispatch(getNotify(auth))\n  }\n},[auth.token, auth,  dispatch])\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Alert/>\n        { auth.token && <Header/> }\n        {auth.token && <SocketioClient/>}\n        <Switch>\n          <Route exact path=\"/register\">\n            <Register />\n          </Route>\n          <Route exact path=\"/\">\n            {auth.token ? <Home /> : <Login/>}\n          </Route>\n          <Route exact path=\"/home\">\n            <Home/>\n          </Route>\n          <Route exact path=\"/login\">\n            <Login />\n          </Route>\n          <PrivateRouter exact path=\"/message\">\n            <Messages />\n          </PrivateRouter>\n          <PrivateRouter exact path=\"/explore\">\n            <Explore />\n          </PrivateRouter>\n          <PrivateRouter exact path=\"/notification\">\n            <Notifications />\n          </PrivateRouter>\n          <Route exact path=\"/post/:id\">\n          {login ? <Post/> : <Redirect to=\"/\"/>}\n          </Route>\n          <Route exact path=\"/message/:id\">\n          {login ? <Conversation/> : <Redirect to=\"/\"/>}\n          </Route>\n          <Route exact path=\"/profile/:id\">\n            {login ? <Profile/> : <Redirect to=\"/\"/>}\n          </Route>\n          <Route> <NotFound/> </Route>\n\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,WAAW,CAElB,MAAO,aAAa,CACpB,OAAQA,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAO,kBAAkB,CACjF,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,OAASC,SAAS,KAAQ,OAAO,CACjC,OAAQC,YAAY,KAAO,6BAA6B,CACxD,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,OAASC,OAAO,KAAQ,6BAA6B,CACrD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CACjC,OAASC,WAAW,KAAQ,8BAA8B,CAC1D,OAAQC,SAAS,KAAO,+BAA+B,CACvD,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,YAAY,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAC,CAAGrB,WAAW,CAACsB,KAAK,EAAGA,KAAK,CAAC,CACzC,KAAM,CAAAC,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3CvB,SAAS,CAAC,IAAI,CACZoB,QAAQ,CAACnB,YAAY,CAAC,CAAC,CAAC,CAExB,KAAM,CAAAuB,MAAM,CAAGhB,EAAE,CAAC,CAAC,CACnBY,QAAQ,CAAC,CAACK,IAAI,CAAChB,WAAW,CAACiB,MAAM,CAAEC,OAAO,CAACH,MAAM,CAAC,CAAC,CACnD,MAAO,IAAIA,MAAM,CAACI,KAAK,CAAC,CAAC,CAC3B,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,CAEfpB,SAAS,CAAC,IAAI,CACZ,GAAGkB,IAAI,CAACW,KAAK,CAAC,CACdT,QAAQ,CAACb,OAAO,CAACW,IAAI,CAACW,KAAK,CAAC,CAAC,CAC7BT,QAAQ,CAACV,SAAS,CAACQ,IAAI,CAAC,CAAC,CACzB,CACF,CAAC,CAAC,CAACA,IAAI,CAACW,KAAK,CAAEX,IAAI,CAAGE,QAAQ,CAAC,CAAC,CAE9B,mBACEN,IAAA,QAAKgB,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBf,KAAA,CAAC7B,MAAM,EAAA4C,QAAA,eACLjB,IAAA,CAACnB,KAAK,GAAC,CAAC,CACNuB,IAAI,CAACW,KAAK,eAAIf,IAAA,CAAClB,MAAM,GAAC,CAAC,CACxBsB,IAAI,CAACW,KAAK,eAAIf,IAAA,CAACH,cAAc,GAAC,CAAC,cAChCK,KAAA,CAAC5B,MAAM,EAAA2C,QAAA,eACLjB,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,WAAW,CAAAF,QAAA,cAC3BjB,IAAA,CAACvB,QAAQ,GAAE,CAAC,CACP,CAAC,cACRuB,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,GAAG,CAAAF,QAAA,CAClBb,IAAI,CAACW,KAAK,cAAGf,IAAA,CAACf,IAAI,GAAE,CAAC,cAAGe,IAAA,CAACtB,KAAK,GAAC,CAAC,CAC5B,CAAC,cACRsB,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,OAAO,CAAAF,QAAA,cACvBjB,IAAA,CAACf,IAAI,GAAC,CAAC,CACF,CAAC,cACRe,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,QAAQ,CAAAF,QAAA,cACxBjB,IAAA,CAACtB,KAAK,GAAE,CAAC,CACJ,CAAC,cACRsB,IAAA,CAACT,aAAa,EAAC2B,KAAK,MAACC,IAAI,CAAC,UAAU,CAAAF,QAAA,cAClCjB,IAAA,CAACZ,QAAQ,GAAE,CAAC,CACC,CAAC,cAChBY,IAAA,CAACT,aAAa,EAAC2B,KAAK,MAACC,IAAI,CAAC,UAAU,CAAAF,QAAA,cAClCjB,IAAA,CAACX,OAAO,GAAE,CAAC,CACE,CAAC,cAChBW,IAAA,CAACT,aAAa,EAAC2B,KAAK,MAACC,IAAI,CAAC,eAAe,CAAAF,QAAA,cACvCjB,IAAA,CAACV,aAAa,GAAE,CAAC,CACJ,CAAC,cAChBU,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,WAAW,CAAAF,QAAA,CAC5BV,KAAK,cAAGP,IAAA,CAACrB,IAAI,GAAC,CAAC,cAAGqB,IAAA,CAACxB,QAAQ,EAAC4C,EAAE,CAAC,GAAG,CAAC,CAAC,CAC9B,CAAC,cACRpB,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,cAAc,CAAAF,QAAA,CAC/BV,KAAK,cAAGP,IAAA,CAACF,YAAY,GAAC,CAAC,cAAGE,IAAA,CAACxB,QAAQ,EAAC4C,EAAE,CAAC,GAAG,CAAC,CAAC,CACtC,CAAC,cACRpB,IAAA,CAACzB,KAAK,EAAC2C,KAAK,MAACC,IAAI,CAAC,cAAc,CAAAF,QAAA,CAC7BV,KAAK,cAAGP,IAAA,CAACR,OAAO,GAAC,CAAC,cAAGQ,IAAA,CAACxB,QAAQ,EAAC4C,EAAE,CAAC,GAAG,CAAC,CAAC,CACnC,CAAC,cACRlB,KAAA,CAAC3B,KAAK,EAAA0C,QAAA,EAAC,GAAC,cAAAjB,IAAA,CAACpB,QAAQ,GAAC,CAAC,IAAC,EAAO,CAAC,EAEtB,CAAC,EACH,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAuB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}