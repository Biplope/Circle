{"ast":null,"code":"import React,{useEffect,useState}from'react';import FavoriteBorderIcon from'@material-ui/icons/FavoriteBorder';import CommentIcon from'@material-ui/icons/Comment';import SaveAltIcon from'@material-ui/icons/SaveAlt';import{Link}from\"react-router-dom\";import\"../styles/PostCard.css\";import LikePost from'./LikePost';import{useSelector,useDispatch}from\"react-redux\";import{unlikepost,likepost,savedPost,unsavedPost}from\"../redux/actions/postActions\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const PostCardFooter=_ref=>{var _pos$likes,_pos$commentss;let{pos}=_ref;const[isLike,setIsLike]=useState(false);const[load,setLoad]=useState(false);const[saved,setSaved]=useState(false);const{auth,socket}=useSelector(state=>state);const dispatch=useDispatch();useEffect(()=>{if(pos.likes.find(like=>like._id===auth.user._id)){setIsLike(true);}else{setIsLike(false);}},[pos.likes,auth.user._id]);useEffect(()=>{if(auth.user.saved.find(id=>id===pos._id)){setSaved(true);}else{setSaved(false);}},[pos._id,auth.user.saved]);const handleLike=async()=>{if(load)return;setIsLike(true);setLoad(true);dispatch(likepost({pos,auth,socket}));setLoad(false);};const handleUnLike=async()=>{if(load)return;setIsLike(false);setLoad(true);dispatch(unlikepost({pos,auth,socket}));setLoad(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfooter\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfootertop\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfootertopitems\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",(_pos$likes=pos.likes)===null||_pos$likes===void 0?void 0:_pos$likes.length,\" \"]}),/*#__PURE__*/_jsx(FavoriteBorderIcon,{style:{color:'red'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfootertopitems\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",(_pos$commentss=pos.commentss)===null||_pos$commentss===void 0?void 0:_pos$commentss.length,\" \"]}),/*#__PURE__*/_jsx(CommentIcon,{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfooterbottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfooterbottomitems\",children:[/*#__PURE__*/_jsx(LikePost,{isLike:isLike,handleLike:handleLike,handleUnLike:handleUnLike}),/*#__PURE__*/_jsx(\"p\",{children:\" Favorite \"})]}),/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(pos._id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfooterbottomitems\",children:[/*#__PURE__*/_jsx(CommentIcon,{}),/*#__PURE__*/_jsx(\"p\",{children:\" Opinion \"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcardfooterbottomitems\",children:[saved?/*#__PURE__*/_jsx(SaveAltIcon,{style:{color:'rebeccapurple'},onClick:()=>dispatch(unsavedPost({pos,auth}))}):/*#__PURE__*/_jsx(SaveAltIcon,{onClick:()=>dispatch(savedPost({pos,auth}))}),/*#__PURE__*/_jsx(\"p\",{children:\" Save \"})]})]})]});};export default PostCardFooter;","map":{"version":3,"names":["React","useEffect","useState","FavoriteBorderIcon","CommentIcon","SaveAltIcon","Link","LikePost","useSelector","useDispatch","unlikepost","likepost","savedPost","unsavedPost","jsxs","_jsxs","jsx","_jsx","PostCardFooter","_ref","_pos$likes","_pos$commentss","pos","isLike","setIsLike","load","setLoad","saved","setSaved","auth","socket","state","dispatch","likes","find","like","_id","user","id","handleLike","handleUnLike","className","children","length","style","color","commentss","to","concat","onClick"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/components/PostCardFooter.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\n\nimport CommentIcon from '@material-ui/icons/Comment';\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport {Link} from \"react-router-dom\"\nimport \"../styles/PostCard.css\"\nimport LikePost from './LikePost';\nimport {useSelector, useDispatch} from \"react-redux\"\nimport {unlikepost, likepost,savedPost, unsavedPost} from \"../redux/actions/postActions\"\n\nconst PostCardFooter = ({pos}) =>{\n    const [isLike, setIsLike] = useState(false)\n    const [load, setLoad] = useState(false)\n    const [saved, setSaved]= useState(false)\n    const {auth, socket} = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if(pos.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }else{\n            setIsLike(false)\n        }\n    },[pos.likes, auth.user._id])\n    useEffect(() => {\n        if(auth.user.saved.find(id => id === pos._id)){\n            setSaved(true)\n        }else{\n            setSaved(false)\n        }\n    },[pos._id, auth.user.saved])\n    const handleLike = async () =>{\n        if(load) return;\n        setIsLike(true)\n        setLoad(true)\n        dispatch(likepost({pos, auth, socket}))\n        setLoad(false)\n    }\n    const handleUnLike = async () =>{\n        if(load) return;\n        setIsLike(false)\n        setLoad(true)\n        dispatch(unlikepost({pos, auth, socket}))\n        setLoad(false)\n        \n    }\n\n\n    return (\n        <div className=\"postcardfooter\">\n            <div className=\"postcardfootertop\">\n                <div className=\"postcardfootertopitems\">\n                   <span> {pos.likes?.length} </span> \n                   <FavoriteBorderIcon style={{color:'red'}}/>\n                </div>\n                <div className=\"postcardfootertopitems\">\n                <span> {pos.commentss?.length} </span> \n                <CommentIcon/>\n                </div>\n            </div>\n            <div className=\"postcardfooterbottom\">\n                <div className=\"postcardfooterbottomitems\">\n                <LikePost isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike}/>\n                <p> Favorite </p>\n                </div>\n                <Link to={`/post/${pos._id}`}>\n                <div className=\"postcardfooterbottomitems\">\n                <CommentIcon/>\n                <p> Opinion </p>\n                </div>\n                </Link>\n                <div className=\"postcardfooterbottomitems\">\n                { saved \n                    ?<SaveAltIcon style={{color:'rebeccapurple'}} onClick={()=>dispatch(unsavedPost({pos, auth}))}/>\n                    :<SaveAltIcon onClick={()=> dispatch(savedPost({pos, auth}))}/>\n                    }\n                <p> Save </p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PostCardFooter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}