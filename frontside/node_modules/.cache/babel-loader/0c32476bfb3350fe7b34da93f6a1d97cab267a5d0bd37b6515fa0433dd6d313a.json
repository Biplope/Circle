{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{addfriends,unfriends}from\"../redux/actions/profileActions\";import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const GlobalFriendBtn=_ref=>{let{classbtn,user}=_ref;const{auth,profile,socket}=useSelector(state=>state);const dispatch=useDispatch();const[friend,setFriend]=useState(false);const[load,setLoad]=useState(false);useEffect(()=>{if(auth.user.following.find(item=>item._id===user._id)){setFriend(true);}},[auth.user.following,user._id]);const addfriend=()=>{if(load)return;setFriend(true);setLoad(true);dispatch(addfriends({users:profile.users,user,auth,socket}));setLoad(false);};const removefriend=()=>{if(load)return;setFriend(false);setLoad(true);dispatch(unfriends({users:profile.users,user,auth,socket}));setLoad(false);};return/*#__PURE__*/_jsx(_Fragment,{children:friend?/*#__PURE__*/_jsx(\"button\",{className:classbtn,onClick:removefriend,style:{backgroundColor:'crimson'},children:\"Un Friend\"}):/*#__PURE__*/_jsx(\"button\",{className:classbtn,onClick:addfriend,children:\"Add Friend\"})});};export default GlobalFriendBtn;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","addfriends","unfriends","jsx","_jsx","Fragment","_Fragment","GlobalFriendBtn","_ref","classbtn","user","auth","profile","socket","state","dispatch","friend","setFriend","load","setLoad","following","find","item","_id","addfriend","users","removefriend","children","className","onClick","style","backgroundColor"],"sources":["D:/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/MERN-Social-Media-Network-Using-React-Express-Nodejs-and-MongoDB-main/frontside/src/components/GlobalFriendBtn.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {useSelector, useDispatch} from 'react-redux';\nimport {addfriends , unfriends} from \"../redux/actions/profileActions\"\n\n\n\nconst GlobalFriendBtn = ({classbtn , user}) =>{\n\n    const {auth, profile, socket} = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    const [friend,setFriend] = useState(false)\n    const [load, setLoad] = useState(false)\n   \nuseEffect(()=>{\n    if(auth.user.following.find(item => item._id === user._id)){\n        setFriend(true)\n\n    }\n},[auth.user.following,user._id])\n\n    const addfriend = () => {\n        if(load) return;\n        setFriend(true)\n        setLoad(true)\n        dispatch(addfriends({users:profile.users, user, auth, socket}))\n        setLoad(false)\n        \n    }\n    const removefriend = () =>{\n        if(load) return;\n        setFriend(false)\n        setLoad(true)\n        dispatch(unfriends({users:profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n    \n    return (\n        <>\n        {\n            friend ? \n              <button className={classbtn} onClick = {removefriend} style={{backgroundColor:'crimson'}}>Un Friend</button>\n            : <button className={classbtn} onClick = {addfriend}>Add Friend</button>\n        }\n        </>\n    )\n}\n\nexport default GlobalFriendBtn\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,UAAU,CAAGC,SAAS,KAAO,iCAAiC,QAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,yBAItE,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAsB,IAArB,CAACC,QAAQ,CAAGC,IAAI,CAAC,CAAAF,IAAA,CAEtC,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAEC,MAAM,CAAC,CAAGd,WAAW,CAACe,KAAK,EAAIA,KAAK,CAAC,CAC3D,KAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACgB,MAAM,CAACC,SAAS,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC1C,KAAM,CAACoB,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAE3CD,SAAS,CAAC,IAAI,CACV,GAAGc,IAAI,CAACD,IAAI,CAACU,SAAS,CAACC,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,GAAKb,IAAI,CAACa,GAAG,CAAC,CAAC,CACvDN,SAAS,CAAC,IAAI,CAAC,CAEnB,CACJ,CAAC,CAAC,CAACN,IAAI,CAACD,IAAI,CAACU,SAAS,CAACV,IAAI,CAACa,GAAG,CAAC,CAAC,CAE7B,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACpB,GAAGN,IAAI,CAAE,OACTD,SAAS,CAAC,IAAI,CAAC,CACfE,OAAO,CAAC,IAAI,CAAC,CACbJ,QAAQ,CAACd,UAAU,CAAC,CAACwB,KAAK,CAACb,OAAO,CAACa,KAAK,CAAEf,IAAI,CAAEC,IAAI,CAAEE,MAAM,CAAC,CAAC,CAAC,CAC/DM,OAAO,CAAC,KAAK,CAAC,CAElB,CAAC,CACD,KAAM,CAAAO,YAAY,CAAGA,CAAA,GAAK,CACtB,GAAGR,IAAI,CAAE,OACTD,SAAS,CAAC,KAAK,CAAC,CAChBE,OAAO,CAAC,IAAI,CAAC,CACbJ,QAAQ,CAACb,SAAS,CAAC,CAACuB,KAAK,CAACb,OAAO,CAACa,KAAK,CAAEf,IAAI,CAAEC,IAAI,CAAEE,MAAM,CAAC,CAAC,CAAC,CAC9DM,OAAO,CAAC,KAAK,CAAC,CAClB,CAAC,CAED,mBACIf,IAAA,CAAAE,SAAA,EAAAqB,QAAA,CAEIX,MAAM,cACJZ,IAAA,WAAQwB,SAAS,CAAEnB,QAAS,CAACoB,OAAO,CAAIH,YAAa,CAACI,KAAK,CAAE,CAACC,eAAe,CAAC,SAAS,CAAE,CAAAJ,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5GvB,IAAA,WAAQwB,SAAS,CAAEnB,QAAS,CAACoB,OAAO,CAAIL,SAAU,CAAAG,QAAA,CAAC,YAAU,CAAQ,CAAC,CAE1E,CAAC,CAEX,CAAC,CAED,cAAe,CAAApB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}